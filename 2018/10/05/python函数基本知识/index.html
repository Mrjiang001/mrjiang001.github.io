<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>python函数基本知识 | Mr Jiang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="函数基本知识一、灵魂三问1.什么是函数在程序中具备某种功能的“工具”就是函数，并且函数可以像工具一样重复调用 2.为什么要用函数防止代码冗余和程序的可读性变差 3.怎么用函数函数遵循先定义再调用的规则 即：制造工具—-》定义函数 使用工具—-》调用函数 二、定义函数1.定义规则函数的定义就相当于事先将函数体代码保存起来，然后将内存地址赋值给函数名，函数名就是对这段代码的引用，这和变量的定义是相似的">
<meta property="og:type" content="article">
<meta property="og:title" content="python函数基本知识">
<meta property="og:url" content="http://yoursite.com/2018/10/05/python%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/index.html">
<meta property="og:site_name" content="Mr Jiang">
<meta property="og:description" content="函数基本知识一、灵魂三问1.什么是函数在程序中具备某种功能的“工具”就是函数，并且函数可以像工具一样重复调用 2.为什么要用函数防止代码冗余和程序的可读性变差 3.怎么用函数函数遵循先定义再调用的规则 即：制造工具—-》定义函数 使用工具—-》调用函数 二、定义函数1.定义规则函数的定义就相当于事先将函数体代码保存起来，然后将内存地址赋值给函数名，函数名就是对这段代码的引用，这和变量的定义是相似的">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-10-05T13:15:46.000Z">
<meta property="article:modified_time" content="2020-07-26T15:53:19.213Z">
<meta property="article:author" content="Mr Jiang">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Mr Jiang" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mr Jiang</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">头发还够，那就再多学点</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python函数基本知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/05/python%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" class="article-date">
  <time datetime="2018-10-05T13:15:46.000Z" itemprop="datePublished">2018-10-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      python函数基本知识
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="函数基本知识"><a href="#函数基本知识" class="headerlink" title="函数基本知识"></a>函数基本知识</h1><h2 id="一、灵魂三问"><a href="#一、灵魂三问" class="headerlink" title="一、灵魂三问"></a>一、灵魂三问</h2><h3 id="1-什么是函数"><a href="#1-什么是函数" class="headerlink" title="1.什么是函数"></a>1.什么是函数</h3><p>在程序中具备某种功能的“工具”就是函数，并且函数可以像工具一样重复调用</p>
<h3 id="2-为什么要用函数"><a href="#2-为什么要用函数" class="headerlink" title="2.为什么要用函数"></a>2.为什么要用函数</h3><p>防止代码冗余和程序的可读性变差</p>
<h3 id="3-怎么用函数"><a href="#3-怎么用函数" class="headerlink" title="3.怎么用函数"></a>3.怎么用函数</h3><p>函数遵循先定义再调用的规则</p>
<p>即：制造工具—-》定义函数</p>
<p>使用工具—-》调用函数</p>
<h2 id="二、定义函数"><a href="#二、定义函数" class="headerlink" title="二、定义函数"></a>二、定义函数</h2><h3 id="1-定义规则"><a href="#1-定义规则" class="headerlink" title="1.定义规则"></a>1.定义规则</h3><p>函数的定义就相当于事先将<strong>函数体</strong>代码保存起来，然后将内存地址赋值给函数名，函数名就是对这段代码的引用，这和变量的定义是相似的。没有事先定义函数而直接调用，就相当于在引用一个不存在的’变量名’。</p>
<p><strong>注意:</strong>定义函数时只检测语法,不执行函数体代码,只有调用函数时才会执行</p>
<p>定义函数的语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def 函数名(参数1,参数2,...):</span><br><span class="line">    &quot;&quot;&quot;文档描述&quot;&quot;&quot;</span><br><span class="line">    函数体</span><br><span class="line">    return 值</span><br></pre></td></tr></table></figure>

<ol>
<li>def: 定义函数的关键字；</li>
<li>函数名：函数名指向函数内存地址，是对函数体代码的引用。函数的命名应该反映出函数的功能；</li>
<li>括号：括号内定义参数，参数是可有可无的，且无需指定参数的类型；</li>
<li>冒号：括号后要加冒号，然后在下一行开始缩进编写函数体的代码；</li>
<li>“””文档描述”””: 描述函数功能，参数介绍等信息的文档，非必要，但是建议加上，从而增强函数的可读性；</li>
<li>函数体：由语句和表达式组成；</li>
<li>return 值：定义函数的返回值，return是可有可无的。</li>
</ol>
<h3 id="2-函数类型"><a href="#2-函数类型" class="headerlink" title="2.函数类型"></a>2.函数类型</h3><ul>
<li><strong>有参函数</strong></li>
</ul>
<p>参数是函数的调用者像函数体传值的<strong>媒介</strong>,若函数体代码逻辑依赖外部传来的参数时则需要定义为有参函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def index(x,y)       # x,y即为参数</span><br><span class="line">    if x &gt;y:</span><br><span class="line">        print(x)</span><br><span class="line">    else:</span><br><span class="line">        pringt(y)  </span><br><span class="line"></span><br><span class="line"> index(1,2)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>无参函数</p>
<p>若函数体代码逻辑不依赖外部传来的参数时则需要定义为无参函数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def logon():</span><br><span class="line">    username&#x3D;input(&#39;user&gt;&gt;: &#39;).strip()</span><br><span class="line">    password&#x3D;input(&#39;password&gt;&gt;: &#39;).strip()</span><br><span class="line">    return (username,password)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>空函数</p>
<p>函数体为pass代表什么都不做,称之为空函数。当我们设计程序的时候需要刚开始需要建立程序的体系结构，但是又无法写出具体程序，因此通过空函数的pass来充当函数体“占位符”，后面再将其补上,这样能有效提高开发效率。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">示例:</span><br><span class="line">def auth_user():</span><br><span class="line">    &quot;&quot;&quot;user authentication function&quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def download_file():</span><br><span class="line">    &quot;&quot;&quot;download file function&quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def upload_file():</span><br><span class="line">    &quot;&quot;&quot;upload file function&quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def ls():</span><br><span class="line">    &quot;&quot;&quot;list contents function&quot;&quot;&quot;</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def cd():</span><br><span class="line">    &quot;&quot;&quot;change directory&quot;&quot;&quot;</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="三、函数的调用和返回值"><a href="#三、函数的调用和返回值" class="headerlink" title="三、函数的调用和返回值"></a>三、函数的调用和返回值</h2><h3 id="1-函数的调用"><a href="#1-函数的调用" class="headerlink" title="1.函数的调用"></a>1.函数的调用</h3><p>当函数定义完之后我们就可以使用函数了,使用函数就是指函数的调用</p>
<p>调用函数的三种形式:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#1、语句形式：</span><br><span class="line">index()</span><br><span class="line"></span><br><span class="line">#2、表达式形式：</span><br><span class="line">m&#x3D;my_min(1,2) #将调用函数的返回值赋值给m</span><br><span class="line">n&#x3D;10*my_min(1,2) #将调用函数的返回值乘以10的结果赋值给n</span><br><span class="line"></span><br><span class="line">#3、函数调用作为参数的形式：</span><br><span class="line"># my_min（2，3）作为函数my_min的第二个参数，实现了取1,2,3中的较小者赋值给m</span><br><span class="line">m&#x3D;my_min(1，my_min（2，3）)</span><br></pre></td></tr></table></figure>

<h3 id="2-函数的返回值"><a href="#2-函数的返回值" class="headerlink" title="2.函数的返回值"></a>2.函数的返回值</h3><p>若需要将函数体代码执行的结果返回给调用者，则需要用到return。return后无值或直接省略return，则默认返回None，return的返回值无类型限制，且可以将多个返回值放到一个元组内。</p>
<p>return是一个函数结束的标志,函数内可以有多个return，但只执行一次函数就结束了，并把return后定义的值作为本次调用的结果返回。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、不写return：默认返回None</span><br><span class="line">2、只写return：只有结束函数体代码的效果，返回None</span><br><span class="line">3、写return None ：与只写return的效果相同</span><br><span class="line">4、return返回一个值: 可以将返回的结果，当做一个变量值来使用</span><br><span class="line">5、return返回多个值:</span><br><span class="line">    1、将返回的多个值，默认存入元组返回</span><br><span class="line">    2、函数的返回值不想被修改</span><br><span class="line">    3、可以自己指定返回的数据类型</span><br><span class="line">return:它是一个函数结束的标志，函数体代码只要执行到return，函数执行结束</span><br></pre></td></tr></table></figure>

<h2 id="四、函数的参数"><a href="#四、函数的参数" class="headerlink" title="四、函数的参数"></a>四、函数的参数</h2><h3 id="1-形参和实参"><a href="#1-形参和实参" class="headerlink" title="1.形参和实参"></a>1.形参和实参</h3><p><strong>形参</strong>：即在定义函数时，括号内声明的参数。形参本质就是一个变量名，用来接收外部传来的值。</p>
<p><strong>实参：</strong>即在调用函数时，括号内传入的值，值可以是常量、变量、表达式或三者的组合:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#1：实参是常量</span><br><span class="line">res&#x3D;my_min(1,2)</span><br><span class="line"></span><br><span class="line">#2：实参是变量</span><br><span class="line">a&#x3D;1</span><br><span class="line">b&#x3D;2</span><br><span class="line">res&#x3D;my_min(a,b)</span><br><span class="line"></span><br><span class="line">#3：实参是表达式</span><br><span class="line">res&#x3D;my_min(10*2,10*my_min(3,4))</span><br><span class="line"></span><br><span class="line">#4：实参可以是常量、变量、表达式的任意组合</span><br><span class="line">a&#x3D;2</span><br><span class="line">my_min(1,a,10*my_min(3,4))</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong>在调用有参函数时，实参（值）会赋值给形参（变量名）。在Python中，变量名与值只是单纯的绑定关系，而对于函数来说，这种绑定关系只在函数调用时生效，在调用结束后解除。</p>
<h3 id="2-参数的使用方式"><a href="#2-参数的使用方式" class="headerlink" title="2.参数的使用方式:"></a>2.参数的使用方式:</h3><ul>
<li><p>位置参数</p>
<p>位置参数指的是按照位置顺序定义的参数</p>
<p>》在<strong>定义</strong>函数时，按照从左到右依次定义形参，称为位置形参， 是按照这种形式定义的形参都必须被传值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def register(name,age,sex): #定义位置形参：name，age，sex，三者都必须被传值</span><br><span class="line">    print(&#39;Name:%s Age:%s Sex:%s&#39; %(name,age,sex))</span><br><span class="line"></span><br><span class="line">register() #TypeError：缺少3个位置参数</span><br></pre></td></tr></table></figure>

<p>》在<strong>调用</strong>函数时,按照从左到右的顺序依次定义参数,称为位置实参,凡按照这种形式定义的实参会按照从左到右的顺序与形参意义对应</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">register(&#39;egon&#39;,18,&#39;male&#39;) #对应关系为：name&#x3D;’egon’,age&#x3D;18,sex&#x3D;’male’</span><br><span class="line">Name:egon Age:18 Sex:male</span><br></pre></td></tr></table></figure>

<ul>
<li>关键字参数</li>
</ul>
<p>在调用函数时,实参可以是key=value的形式,称为关键字参数,这种模式下可以不按照顺序而是通过指定的形式为形参赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> register(&#39;tank&#39;,sex&#x3D;&#39;male&#39;,age&#x3D;18) #正确使用</span><br><span class="line"> register(name&#x3D;&#39;tank&#39;,18,sex&#x3D;&#39;male&#39;) #SyntaxError：关键字参数name&#x3D;‘lili’在位置参数18之前</span><br><span class="line">&gt;&gt;&gt; register(&#39;tank&#39;,sex&#x3D;&#39;male&#39;,age&#x3D;18,name&#x3D;&#39;jack&#39;) #TypeError：形参name被重复赋值</span><br></pre></td></tr></table></figure>

<p>注意:如果位置参数和关键字参数混合用,则优先让位置参数在前,关键字参数在后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">register(&#39;tank&#39;,sex&#x3D;&#39;male&#39;,age&#x3D;18) # tank在关键字参数之前优先被赋值</span><br></pre></td></tr></table></figure>

<ul>
<li>默认参数</li>
</ul>
<p>在定义函数时,就已经给形参赋值,这种称之为默认参数,这种情况适用于此形参的实参重复出现次数过多时使用,如果传入一个新值会将形参改成新参。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def register(name,age,sex&#x3D;&#39;male&#39;): #默认sex的值为male</span><br><span class="line">    print(&#39;Name:%s Age:%s Sex:%s&#39; %(name,age,sex))</span><br><span class="line">    </span><br><span class="line">register(&#39;tom&#39;,17) #大多数情况,无需为sex传值,默认为male</span><br><span class="line">Name:tom Age:17 Sex:male</span><br><span class="line">register(&#39;Lili&#39;,18,&#39;female&#39;) #少数情况,可以为sex传值female</span><br><span class="line">Name:Lili Age:18 Sex:female</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<p>1.默认参数也需要在位置参数之后</p>
<p>2.默认参数的值仅在函数定义阶段被赋值一次</p>
<p>3.默认参数通常应该设为不可变类型,例如设为列表时每次调用都会在上一次基础上向同一列表怎加值</p>
<ul>
<li>可变长度参数(<em>与*</em>的用法)</li>
</ul>
<p>参数的长度可变指的是在调用函数时，<strong>实参的个数可以不固定</strong>，而在调用函数时，实参的定义无非是按位置或者按关键字两种形式，这就要求形参提供两种解决方案来分别处理两种形式的可变长度的参数</p>
<p>》可变长度的位置参数</p>
<p>如果在最后一个形参名前加上＊号，那么在调用函数时，一处的位置实参都会被最后一个形参以元组的形式接受(官方默认最后一个形参为＊args)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def foo(x,y,z&#x3D;1,*args): #在最后一个形参名args前加*号</span><br><span class="line">...     print(x)</span><br><span class="line">...     print(y)</span><br><span class="line">...     print(z)</span><br><span class="line">...     print(args)</span><br><span class="line">... </span><br><span class="line">foo(1,2,3,4,5,6,7)  #实参1、2、3按位置为形参x、y、z赋值，多余的位置实参4、5、6、7都被*接收，以元组的形式保存下来，赋值给args，即args&#x3D;(4, 5, 6,7)</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">(4, 5, 6, 7)</span><br></pre></td></tr></table></figure>

<p>如果我们事先生成了一个列表,仍然是可以传值给*args的,此时在实参中＊表示将列表打散传入形参,如果没有＊则列表会以一个整体传入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def foo(x,y,*args):</span><br><span class="line">...     print(x)</span><br><span class="line">...     print(y)</span><br><span class="line">...     print(args)</span><br><span class="line">... </span><br><span class="line">L&#x3D;[3,4,5]</span><br><span class="line">foo(1,2,*L) # *L就相当于位置参数3，4，5, foo(1,2,*L)就等同于foo(1,2,3,4,5)</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">(3, 4, 5)</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong></p>
<p>如果我们想要求多个值的和，*args就派上用场了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def add(*args):</span><br><span class="line">...     res&#x3D;0</span><br><span class="line">...     for i in args:</span><br><span class="line">...         res+&#x3D;i</span><br><span class="line">...     return res</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; add(1,2,3,4,5)</span><br><span class="line">15</span><br></pre></td></tr></table></figure>

<p>》可变长度的关键字参数</p>
<p>如果在最后一个形参名前加＊＊号,那么在调用函数时，溢出的关键字参数，都会被接收，以字典的形式保存下来赋值给该形参 (官方默认为＊＊kwargs)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def foo(x,**kwargs): #在最后一个参数kwargs前加**</span><br><span class="line">...     print(x)        </span><br><span class="line">...     print(kwargs)   </span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; foo(y&#x3D;2,x&#x3D;1,z&#x3D;3) #溢出的关键字实参y&#x3D;2，z&#x3D;3都被**接收，以字典的形式保存下来，赋值给kwargs</span><br><span class="line">1</span><br><span class="line">&#123;&#39;z&#39;: 3, &#39;y&#39;: 2&#125;</span><br></pre></td></tr></table></figure>

<p>如果我们事先生成了一个字典,仍然是可以传值给**kwargs的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def foo(x,y,**kwargs):</span><br><span class="line">...     print(x)</span><br><span class="line">...     print(y)</span><br><span class="line">...     print(kwargs)</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; dic&#x3D;&#123;&#39;a&#39;:1,&#39;b&#39;:2&#125; </span><br><span class="line">&gt;&gt;&gt; foo(1,2,**dic) #**dic就相当于关键字参数a&#x3D;1，b&#x3D;2，foo(1,2,**dic)等同foo(1,2,a&#x3D;1,b&#x3D;2),＊＊表示打散,和＊类似</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">&#123;&#39;a&#39;: 1, &#39;b&#39;: 2&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h2 id="命名关键字参数"><a href="#命名关键字参数" class="headerlink" title="命名关键字参数"></a>命名关键字参数</h2><p>在定义了**kwargs参数后，函数调用者就可以传入任意的关键字参数key=value，如果函数体代码的执行需要依赖某个key，必须在函数内进行判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def register(name,age,**kwargs):</span><br><span class="line">...     if &#39;sex&#39; in kwargs:</span><br><span class="line">...         #有sex参数</span><br><span class="line">...         pass</span><br><span class="line">...     if &#39;height&#39; in kwargs:</span><br><span class="line">...         #有height参数</span><br><span class="line">...         pass</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>想要限定函数的调用者必须以key=value的形式传值，Python3提供了专门的语法：需要在定义形参时，用<em>作为一个分隔符号，</em>号之后的形参称为命名关键字参数。对于这类参数，在函数调用时，必须按照key=value的形式为其传值，且必须被传值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def register(name,age,*,sex,height): #sex,height为命名关键字参数</span><br><span class="line">...     pass</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; register(&#39;lili&#39;,18,sex&#x3D;&#39;male&#39;,height&#x3D;&#39;1.8m&#39;) #正确使用</span><br><span class="line">&gt;&gt;&gt; register(&#39;lili&#39;,18,&#39;male&#39;,&#39;1.8m&#39;) # TypeError:未使用关键字的形式为sex和height传值</span><br><span class="line">&gt;&gt;&gt; register(&#39;lili&#39;,18,height&#x3D;&#39;1.8m&#39;) # TypeError没有为命名关键字参数height传值。</span><br></pre></td></tr></table></figure>

<p>命名关键字参数也可以有默认值，从而简化调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def register(name,age,*,sex&#x3D;&#39;male&#39;,height):</span><br><span class="line">...     print(&#39;Name:%s,Age:%s,Sex:%s,Height:%s&#39; %(name,age,sex,height))</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; register(&#39;lili&#39;,18,height&#x3D;&#39;1.8m&#39;)</span><br><span class="line">Name:lili,Age:18,Sex:male,Height:1.8m</span><br></pre></td></tr></table></figure>

<p>需要强调的是：sex不是默认参数，height也不是位置参数，因为二者均在<em>后，所以都是命名关键字参数，形参sex=’male’属于命名关键字参数的默认值，因而即便是放到形参height之前也不会有问题。另外，如果形参中已经有一个</em>args了，命名关键字参数就不再需要一个单独的*作为分隔符号了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def register(name,age,*args,sex&#x3D;&#39;male&#39;,height):</span><br><span class="line">...   print(&#39;Name:%s,Age:%s,Args:%s,Sex:%s,Height:%s&#39; %(name,age,args,sex,height))</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; register(&#39;lili&#39;,18,1,2,3,height&#x3D;&#39;1.8m&#39;) #sex与height仍为命名关键字参数</span><br><span class="line">Name:lili,Age:18,Args:(1, 2, 3),Sex:male,Height:1.8m</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-组合使用"><a href="#3-组合使用" class="headerlink" title="3.组合使用"></a>3.组合使用</h3><p>综上所述所有参数可任意组合使用，<strong>但定义顺序必须是：位置参数、默认参数、*args、命名关键字参数、</strong>kwargs**</p>
<p>可变参数<em>args与关键字参数*</em>kwargs通常是组合在一起使用的，如果一个函数的形参为<em>args与*</em>kwargs，那么代表该函数可以接收任何形式、任意长度的参数</p>
<p>在该函数内部还可以把接收到的参数传给另外一个函数（这在4.6小节装饰器的实现中大有用处）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; def func(x,y,z):</span><br><span class="line">...     print(x,y,z)</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; def wrapper(*args,**kwargs):</span><br><span class="line">...     func(*args,**kwargs)</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; wrapper(1,z&#x3D;3,y&#x3D;2)</span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure>

<p>按照上述写法，在为函数wrapper传参时，其实遵循的是函数func的参数规则，调用函数wrapper的过程分析如下：</p>
<ol>
<li>位置实参1被<em>接收，以元组的形式保存下来，赋值给args，即args=(1,),关键字实参z=3，y=2被*</em>接收，以字典的形式保存下来，赋值给kwargs，即kwargs={‘y’: 2, ‘z’: 3}</li>
<li>执行func(<em>args,*kwargs),即func(</em>(1,),** {‘y’: 2, ‘z’: 3}),等同于func(1,z=3,y=2)</li>
</ol>
<p>提示： <em>args、*</em>kwargs中的args和kwargs被替换成其他名字并无语法错误，但使用args、kwargs是约定俗成的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/05/python%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86/" data-id="ckd3c2hls000cz8ut1kh3d836" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/10/08/python%E5%87%BD%E6%95%B0%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          python函数名称空间和作用域
        
      </div>
    </a>
  
  
    <a href="/2018/10/03/python%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BA%8C/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">python基本数据类型二</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/24/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8C%E9%94%81/">MySQL数据库的隔离级别和锁</a>
          </li>
        
          <li>
            <a href="/2018/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">MySQL数据库的基本操作</a>
          </li>
        
          <li>
            <a href="/2018/11/11/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/">MySQL数据库的字段类型和约束条件</a>
          </li>
        
          <li>
            <a href="/2018/11/08/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BA%86%E8%A7%A3/">MySQL数据库的基础了解</a>
          </li>
        
          <li>
            <a href="/2018/11/02/python%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/">python单例模式</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Mr Jiang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>