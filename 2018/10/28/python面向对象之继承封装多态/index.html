<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>python面向对象之继承封装多态 | Mr Jiang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="面向对象之继承1.什么是继承？继承是一种新建类的方式，新建的类称之为子类或派生类，继承的父类称之为基类或超类。 在Python中，一个子类可以继承多个父类。（面试可能会问） 在其它语言中，一个子类只能继承一个父类。 2.继承的作用？减少代码的冗余。 3.如何实现继承？ 先确认谁是子类，谁是父类。 在定义类子类时， 通过class 子类名(父类名):这种方式就可以继承父类的属性和方法。可以通过 :子">
<meta property="og:type" content="article">
<meta property="og:title" content="python面向对象之继承封装多态">
<meta property="og:url" content="http://yoursite.com/2018/10/28/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B9%8B%E7%BB%A7%E6%89%BF%E5%B0%81%E8%A3%85%E5%A4%9A%E6%80%81/index.html">
<meta property="og:site_name" content="Mr Jiang">
<meta property="og:description" content="面向对象之继承1.什么是继承？继承是一种新建类的方式，新建的类称之为子类或派生类，继承的父类称之为基类或超类。 在Python中，一个子类可以继承多个父类。（面试可能会问） 在其它语言中，一个子类只能继承一个父类。 2.继承的作用？减少代码的冗余。 3.如何实现继承？ 先确认谁是子类，谁是父类。 在定义类子类时， 通过class 子类名(父类名):这种方式就可以继承父类的属性和方法。可以通过 :子">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://user-images.githubusercontent.com/57135669/88484268-e19af500-cf9f-11ea-9cc3-728c32874da1.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/57135669/88484269-e495e580-cf9f-11ea-89ca-cff8b0e92f40.png">
<meta property="article:published_time" content="2018-10-28T15:19:45.000Z">
<meta property="article:modified_time" content="2020-07-26T16:34:03.829Z">
<meta property="article:author" content="Mr Jiang">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/57135669/88484268-e19af500-cf9f-11ea-9cc3-728c32874da1.png">
  
    <link rel="alternate" href="/atom.xml" title="Mr Jiang" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mr Jiang</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">头发还够，那就再多学点</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python面向对象之继承封装多态" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/28/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B9%8B%E7%BB%A7%E6%89%BF%E5%B0%81%E8%A3%85%E5%A4%9A%E6%80%81/" class="article-date">
  <time datetime="2018-10-28T15:19:45.000Z" itemprop="datePublished">2018-10-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      python面向对象之继承封装多态
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="面向对象之继承"><a href="#面向对象之继承" class="headerlink" title="面向对象之继承"></a>面向对象之继承</h1><h2 id="1-什么是继承？"><a href="#1-什么是继承？" class="headerlink" title="1.什么是继承？"></a>1.什么是继承？</h2><p>继承是一种新建类的方式，新建的类称之为子类或派生类，继承的父类称之为基类或超类。</p>
<p>在Python中，一个子类可以继承多个父类。（面试可能会问）</p>
<p>在其它语言中，一个子类只能继承一个父类。</p>
<h2 id="2-继承的作用？"><a href="#2-继承的作用？" class="headerlink" title="2.继承的作用？"></a>2.继承的作用？</h2><p>减少代码的冗余。</p>
<h3 id="3-如何实现继承？"><a href="#3-如何实现继承？" class="headerlink" title="3.如何实现继承？"></a>3.如何实现继承？</h3><ol>
<li>先确认谁是子类，谁是父类。</li>
<li>在定义类子类时， 通过class 子类名(父类名):这种方式就可以继承父类的属性和方法。可以通过 :子类名.__ base __查看到父类是谁</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father1</span>:</span></span><br><span class="line">    x = <span class="number">1</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father2</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father3</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类, </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span><span class="params">(Father1, Father2, Father3)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类.__bases__ 查看父类</span></span><br><span class="line">print(Sub.__bases__)</span><br><span class="line">print(Sub.x)</span><br></pre></td></tr></table></figure>

<h2 id="4-如何寻找继承关系-即如何确定父类子类"><a href="#4-如何寻找继承关系-即如何确定父类子类" class="headerlink" title="4.如何寻找继承关系,即如何确定父类子类"></a>4.如何寻找继承关系,即如何确定父类子类</h2><p>得先抽象，再继承</p>
<ul>
<li>抽取对象之间相似的部分，总结出类</li>
<li>抽取类之间相似的部分，总结出父类。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类  # 总结出所有子类的相似部分</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyPeople</span>:</span></span><br><span class="line">    school = <span class="string">'oldboy'</span></span><br><span class="line">    country = <span class="string">'China'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 老师类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyTeacher</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line">    <span class="comment"># school = 'oldboy'                       # 相似的属性和方法可以抽取出来定义成父类</span></span><br><span class="line">    <span class="comment"># country = 'China'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># def __init__(self, name, age, sex):</span></span><br><span class="line">    <span class="comment">#     self.name = name</span></span><br><span class="line">    <span class="comment">#     self.age = age</span></span><br><span class="line">    <span class="comment">#     self.sex = sex</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 老师修改分数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_score</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'老师 <span class="subst">&#123;self.name&#125;</span> 正在修改分数...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 学生类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyStudent</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line">    <span class="comment"># school = 'oldboy'</span></span><br><span class="line">    <span class="comment"># country = 'China'</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># def __init__(self, name, age, sex):</span></span><br><span class="line">    <span class="comment">#     self.name = name</span></span><br><span class="line">    <span class="comment">#     self.age = age</span></span><br><span class="line">    <span class="comment">#     self.sex = sex</span></span><br><span class="line">    <span class="comment"># 学生选择课程</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose_course</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'学生 <span class="subst">&#123;self.name&#125;</span> 正在选择课程...'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="5-继承背景下对象属性的查找顺序"><a href="#5-继承背景下对象属性的查找顺序" class="headerlink" title="5.继承背景下对象属性的查找顺序"></a>5.继承背景下对象属性的查找顺序</h2><ul>
<li>1.先从对象自己的名称空间中查找</li>
<li>2.对象中没有，从子类的名称空间中查找。</li>
<li>3.子类中没有, 从父类的名称空间中查找，若父类没有，则会报错!</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Goo</span>:</span></span><br><span class="line">    x = <span class="number">10</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(Goo)</span>:</span></span><br><span class="line">    x = <span class="number">100</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo_obj = Foo()</span><br><span class="line">foo_obj.x = <span class="number">1000</span>  <span class="comment"># 注意,这不是修改子类的属性,而是在子类对象里面添加了新属性</span></span><br><span class="line">print(foo_obj.x)</span><br><span class="line">print(<span class="string">'对象的名称空间: '</span>, foo_obj.__dict__)</span><br><span class="line">print(<span class="string">'子类的名称空间: '</span>, Foo.__dict__)</span><br><span class="line">print(<span class="string">'父类的名称空间: '</span>, Goo.__dict__)</span><br></pre></td></tr></table></figure>

<h2 id="6-什么叫派生"><a href="#6-什么叫派生" class="headerlink" title="6.什么叫派生"></a>6.什么叫派生</h2><p>派生: 指的是子类继承父类的属性与方法，并且派生出自己独有的属性与方法。 若子类中的方法名与父类的相同，优先用子类的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'from Foo.f1...'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">(self)</span>:</span>  <span class="comment"># self ---&gt; bar_obj</span></span><br><span class="line">        print(<span class="string">'from Foo.f2...'</span>)</span><br><span class="line">       </span><br><span class="line"><span class="comment"># 子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span><span class="params">(Foo)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重写</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'from Bar.f1..'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'from Bar.func...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bar_obj = Bar()</span><br><span class="line">bar_obj.f1()    <span class="comment"># 输出结果:from Bar.f1..</span></span><br><span class="line">bar_obj.func()  <span class="comment"># 输出结果:from Bar.func...</span></span><br><span class="line">bar_obj.f2()    <span class="comment"># 输出结果:from Foo.f2...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找方法的顺序也是先在对象中找,如果对象中没有,则会在子类中找如果子类中没有,则去父类中找,如果父类中没有,则报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">问题: 子类重写父类的__init__导致代码更加冗余</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyPeople</span>:</span></span><br><span class="line">    school = <span class="string">'oldboy'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyTeacher</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, sal)</span>:</span><span class="comment">#想派生出自己的属性,还需要重新写父类的属性,这样非常麻烦</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line">        self.sal = sal</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_score</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'老师 <span class="subst">&#123;self.name&#125;</span> 修改分数...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyStudent</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, girl)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line">        self.girl = girl</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose_course</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'学生 <span class="subst">&#123;self.name&#125;</span> 选择课程...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = OldboyTeacher(<span class="string">'tank'</span>, <span class="number">17</span>, <span class="string">'male'</span>, <span class="number">15000000</span>)</span><br><span class="line">stu1 = OldboyStudent(<span class="string">'sean'</span>, <span class="number">28</span>, <span class="string">'male'</span>, <span class="string">'凤姐'</span>)</span><br><span class="line">print(tea1.name, tea1.age, tea1.sex, tea1.sal)</span><br><span class="line">print(stu1.name, stu1.age, stu1.sex, stu1.girl)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">解决问题: 子类重用父类的属性，并派生出新的属性。</span></span><br><span class="line"><span class="string">    两种方式：</span></span><br><span class="line"><span class="string">        1.直接引用父类的__init__为其传参，并添加子类的属性。</span></span><br><span class="line"><span class="string">        2.通过super来指向父类的属性。</span></span><br><span class="line"><span class="string">            - super()是一个特殊的类，调用super得到一个对象，该对象指向父类的名称空间。</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">        注意: 使用哪一种都可以，但不能两种方式混合使用。</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">方式一:</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyPeople</span>:</span></span><br><span class="line">    school = <span class="string">'oldboy'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span>  <span class="comment"># self == tea1, name == 'tank', age == 17, sex == 'male'</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyTeacher</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># tea1, 'tank', 17, 'male', 15000000</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, sal)</span>:</span></span><br><span class="line">        <span class="comment"># self.name = name</span></span><br><span class="line">        <span class="comment"># self.age = age</span></span><br><span class="line">        <span class="comment"># self.sex = sex</span></span><br><span class="line">        <span class="comment"># 类调用类内部的__init__，只是一个普通函数</span></span><br><span class="line">        <span class="comment"># OldboyPeople.__init__(tea1, 'tank', 17, 'male')</span></span><br><span class="line">        OldboyPeople.__init__(self, name, age, sex) <span class="comment"># 在子类的.__init__中调用</span></span><br><span class="line">        self.sal = sal <span class="comment"># 这样只需要写添加的属性就可以了</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_score</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'老师 <span class="subst">&#123;self.name&#125;</span> 修改分数...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyStudent</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, girl)</span>:</span></span><br><span class="line">        OldboyPeople.__init__(self, name, age, sex)</span><br><span class="line">        self.girl = girl</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose_course</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'学生 <span class="subst">&#123;self.name&#125;</span> 选择课程...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = OldboyTeacher(<span class="string">'tank'</span>, <span class="number">17</span>, <span class="string">'male'</span>, <span class="number">15000000</span>) <span class="comment"># 传参的时候别忘了</span></span><br><span class="line">print(tea1.name, tea1.age, tea1.sex, tea1.sal)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = OldboyStudent(<span class="string">'sean'</span>, <span class="number">28</span>, <span class="string">'male'</span>, <span class="string">'凤姐'</span>)</span><br><span class="line">print(stu1.name, stu1.age, stu1.sex, stu1.girl)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式二:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyPeople</span>:</span></span><br><span class="line">    school = <span class="string">'oldboy'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># self == tea1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span>  <span class="comment"># self == tea1, name == 'tank', age == 17, sex == 'male'</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyTeacher</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># tea1, 'tank', 17, 'male', 15000000</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, sal)</span>:</span></span><br><span class="line">        <span class="comment"># super() ---&gt; 特殊的对象 ---&gt; 对象.属性 ---&gt; 父类的名称空间</span></span><br><span class="line">        <span class="comment"># 会将调用类传入的对象当做第一个参数传给__init__()</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line">        self.sal = sal</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">change_score</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'老师 <span class="subst">&#123;self.name&#125;</span> 修改分数...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldboyStudent</span><span class="params">(OldboyPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex, girl)</span>:</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line">        self.girl = girl</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose_course</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'学生 <span class="subst">&#123;self.name&#125;</span> 选择课程...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tea1 = OldboyTeacher(<span class="string">'tank'</span>, <span class="number">17</span>, <span class="string">'male'</span>, <span class="number">15000000</span>)</span><br><span class="line">print(tea1.name, tea1.age, tea1.sex, tea1.sal)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu1 = OldboyStudent(<span class="string">'sean'</span>, <span class="number">28</span>, <span class="string">'male'</span>, <span class="string">'凤姐'</span>)</span><br><span class="line">print(stu1.name, stu1.age, stu1.sex, stu1.girl)</span><br></pre></td></tr></table></figure>

<h2 id="7-经典类和新式类-了解"><a href="#7-经典类和新式类-了解" class="headerlink" title="7.经典类和新式类(了解)"></a>7.经典类和新式类(了解)</h2><ul>
<li><p>新式类:</p>
<p>1.凡是继承object的类或子孙类都是新式类。</p>
<p>2.在python3中所有的类都默认继承object。</p>
</li>
<li><p>经典类:</p>
<p>1.在python2中才会有经典类与新式类之分。</p>
<p>2.在python2中，凡是没有继承object的类，都是经典类。</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(object)</span>:</span> <span class="comment"># 新式类</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span><span class="params">(User)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(User.__dict__)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出结果：</span></span><br><span class="line">&#123;<span class="string">'__module__'</span>: <span class="string">'__main__'</span>, <span class="string">'x'</span>: <span class="number">10</span>, <span class="string">'__dict__'</span>: &lt;attribute <span class="string">'__dict__'</span> of <span class="string">'User'</span> objects&gt;, <span class="string">'__weakref__'</span>: &lt;attribute <span class="string">'__weakref__'</span> of <span class="string">'User'</span> objects&gt;, <span class="string">'__doc__'</span>: <span class="literal">None</span>&#125;</span><br><span class="line"></span><br><span class="line">print(object)</span><br><span class="line"></span><br><span class="line">输出结果:</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">object</span>'&gt;</span></span><br><span class="line"><span class="class">'''</span></span><br><span class="line"><span class="class">在<span class="title">python3</span>中提供了一个查找新式类查找顺序的内置方法.</span></span><br><span class="line"><span class="class">    <span class="title">mro</span><span class="params">()</span>:</span>类的内置方法,会把当前类的继承关系列出来。</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 注意: super()会严格按照mro列表的顺序往后查找,mro列表的构造是通过c3线性算法来实现的</span></span><br><span class="line"><span class="string">class A:</span></span><br><span class="line"><span class="string">    def test(self):</span></span><br><span class="line"><span class="string">        print('from A.test')</span></span><br><span class="line"><span class="string">        super().est()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">class B:</span></span><br><span class="line"><span class="string">    def est(self):</span></span><br><span class="line"><span class="string">        print('from B.test')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">class C(A, B):</span></span><br><span class="line"><span class="string">    pass</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">c = C()</span></span><br><span class="line"><span class="string"># 检查super的继承顺序</span></span><br><span class="line"><span class="string">print(C.mro())</span></span><br><span class="line"><span class="string"># 输出结果:是一个继承顺序的列表</span></span><br><span class="line"><span class="string">[&lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;, &lt;class 'object'&gt;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 去A找，有的话打印，然后super又执行了test，根据mro中查找打印B类中test。</span></span><br><span class="line"><span class="string">c.test()</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">from</span> A.test</span><br><span class="line"><span class="keyword">from</span> B.test</span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>

<p>多继承情况下造成 “钻石继承” 或“菱形继承”</p>
<p>mro的查找顺序:</p>
<ul>
<li><p>新式类:</p>
<p>广度优先</p>
<p><img src="https://user-images.githubusercontent.com/57135669/88484268-e19af500-cf9f-11ea-9cc3-728c32874da1.png" alt="1843708-20191126203504762-1369309667"></p>
</li>
<li><p>经典类:</p>
<p>深度优先</p>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/57135669/88484269-e495e580-cf9f-11ea-89ca-cff8b0e92f40.png" alt="1843708-20191126203524599-1600861642"></p>
<h1 id="面向对象三大特性之封装"><a href="#面向对象三大特性之封装" class="headerlink" title="面向对象三大特性之封装"></a>面向对象三大特性之封装</h1><p>在讲封装前我们可以先了解什么是组合</p>
<h2 id="一-组合"><a href="#一-组合" class="headerlink" title="一.组合"></a>一.组合</h2><h3 id="1-什么是组合"><a href="#1-什么是组合" class="headerlink" title="1.什么是组合?"></a>1.什么是组合?</h3><p>组合指的就是一个对象中包含这另外一个或多个对象</p>
<ul>
<li>在继承中:</li>
</ul>
<p>继承是类与类的关系,子类继承父类的属性和方法,子类与父类属于从属关系</p>
<ul>
<li>在组合中:</li>
</ul>
<p>组合是对象与对象的关系,一个对象拥有另外一个对象的属性和方法,是一种包含关系</p>
<h3 id="2-为什么要用组合"><a href="#2-为什么要用组合" class="headerlink" title="2.为什么要用组合?"></a>2.为什么要用组合?</h3><p>为了减少代码冗余<br>与继承相比<br>耦合度低,程序可扩展性高</p>
<h3 id="3-组合怎么用"><a href="#3-组合怎么用" class="headerlink" title="3.组合怎么用?"></a>3.组合怎么用?</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 组合实现</span></span><br><span class="line"><span class="comment"># 父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldPeople</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line"><span class="comment"># 学生类(子类)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldStudent</span><span class="params">(OldPeople)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 老师类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldPeople</span><span class="params">(OldPeople)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#日期类:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Brith</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, year, month, day)</span>:</span></span><br><span class="line">        self.year = year</span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_brith</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'''</span></span><br><span class="line"><span class="string">               ===== 出生年月日 =====</span></span><br><span class="line"><span class="string">                   年: <span class="subst">&#123;self.year&#125;</span></span></span><br><span class="line"><span class="string">                   月: <span class="subst">&#123;self.month&#125;</span></span></span><br><span class="line"><span class="string">                   日: <span class="subst">&#123;self.day&#125;</span></span></span><br><span class="line"><span class="string">               '''</span>)</span><br><span class="line"></span><br><span class="line">stu1 = OldStudent(<span class="string">'sean'</span>, <span class="number">19</span>, <span class="string">'female'</span>)</span><br><span class="line">Brith_obj = Brith(<span class="number">2000</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">stu1.Brith_obj = Brith_obj  <span class="comment"># 等于在学生类下面添加了一个self.Brith_obj = Brith_obj</span></span><br><span class="line">print(stu1.Brith_obj.year, stu1.Brith_obj.month,  stu1.Brith_obj.day)</span><br><span class="line">stu1.Brith_obj.tell_brith()<span class="comment"># 会从学生类的对象引用日期类对象的方法</span></span><br></pre></td></tr></table></figure>

<p>练习需求:</p>
<p>选课系统:</p>
<p>1.有学生、老师类，学生与老师有属性 “名字、年龄、性别、课程”，</p>
<p>2.有方法 老师与学生可以添加课程， 打印学习/教授课程。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印出生日期方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_birth</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'''</span></span><br><span class="line"><span class="string">        年: <span class="subst">&#123;self.date_obj.year&#125;</span></span></span><br><span class="line"><span class="string">        月: <span class="subst">&#123;self.date_obj.month&#125;</span></span></span><br><span class="line"><span class="string">        日: <span class="subst">&#123;self.date_obj.day&#125;</span></span></span><br><span class="line"><span class="string">        '''</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加课程</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_course</span><span class="params">(self, course_obj)</span>:</span></span><br><span class="line">        <span class="comment"># self.course_name = course_name</span></span><br><span class="line">        <span class="comment"># self.course_price = course_price</span></span><br><span class="line">        <span class="comment"># self.course_time = course_time</span></span><br><span class="line">        self.course_list.append(course_obj)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印当前对象中课程列表的所有课程信息</span></span><br><span class="line">    <span class="comment"># ---》 打印所有课程</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_all_course_info</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 从当前对象中课程列表中取出所有的课程对象</span></span><br><span class="line">        <span class="keyword">for</span> course_obj <span class="keyword">in</span> self.course_list:</span><br><span class="line">            <span class="comment"># 通过课程对象.打印课程信息方法</span></span><br><span class="line">            course_obj.tell_course_info()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(People)</span>:</span></span><br><span class="line">    <span class="comment"># 假设从程序开始到灭亡  在实例化时都不修改该对象的属性</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line">        self.course_list = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span><span class="params">(People)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, sex)</span>:</span></span><br><span class="line">        super().__init__(name, age, sex)</span><br><span class="line">        self.course_list = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Date</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, year, month, day)</span>:</span></span><br><span class="line">        self.year = year</span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个课程类: 课程有: 课程名称, 课程价格, 课程周期</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Course</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, course_name, course_price, course_time)</span>:</span></span><br><span class="line">        self.course_name = course_name</span><br><span class="line">        self.course_price = course_price</span><br><span class="line">        self.course_time = course_time</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义打印课程方法   ： 只打印一个课程信息</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell_course_info</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">f'''</span></span><br><span class="line"><span class="string">        ====== 课程信息如下 ======</span></span><br><span class="line"><span class="string">        课程名称: <span class="subst">&#123;self.course_name&#125;</span></span></span><br><span class="line"><span class="string">        课程价格: <span class="subst">&#123;self.course_price&#125;</span></span></span><br><span class="line"><span class="string">        课程周期: <span class="subst">&#123;self.course_time&#125;</span></span></span><br><span class="line"><span class="string">        '''</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建学生对象</span></span><br><span class="line">stu1 = Student(<span class="string">'HCY'</span>, <span class="number">2000</span>, <span class="string">'female &amp; male'</span>)</span><br><span class="line">date_obj = Date(<span class="string">'公元19'</span>, <span class="string">'11'</span>, <span class="string">'11'</span>)</span><br><span class="line">stu1.date_obj = date_obj</span><br><span class="line"><span class="comment"># stu1.tell_birth()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建课程对象</span></span><br><span class="line">python_obj = Course(<span class="string">'python'</span>, <span class="number">77777</span>, <span class="number">6</span>)</span><br><span class="line">go_obj = Course(<span class="string">'go'</span>, <span class="number">88888</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前学生添加了课程对象</span></span><br><span class="line"><span class="comment"># 添加python课程</span></span><br><span class="line">stu1.add_course(python_obj)</span><br><span class="line"><span class="comment"># 添加go课程</span></span><br><span class="line">stu1.add_course(go_obj)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前学生打印所有课程信息</span></span><br><span class="line">stu1.tell_all_course_info()</span><br></pre></td></tr></table></figure>

<h2 id="二-封装"><a href="#二-封装" class="headerlink" title="二.封装"></a>二.封装</h2><h3 id="1什么是封装"><a href="#1什么是封装" class="headerlink" title="1什么是封装?"></a>1什么是封装?</h3><p>封装就是将一堆属性和方法整合到一起封装到对象中</p>
<h3 id="2-为什么要用封装"><a href="#2-为什么要用封装" class="headerlink" title="2.为什么要用封装?"></a>2.为什么要用封装?</h3><p>封装就是为了方便存取属性和方法,通过<strong>“对象.”</strong>的方式就能存放/获取属性和方法</p>
<h3 id="3-封装怎么用"><a href="#3-封装怎么用" class="headerlink" title="3.封装怎么用"></a>3.封装怎么用</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line">	x = <span class="number">10</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">   	<span class="keyword">pass</span></span><br><span class="line">obj = User()</span><br><span class="line">obj.y = <span class="number">20</span>           <span class="comment"># 添加一个新的属性y = 20,这就是封装</span></span><br><span class="line">obj ---&gt; x, func, y  # obj对象可以取用这些属性和方法</span><br></pre></td></tr></table></figure>

<p>同时,在封装到对象或类中的属性和方法,我们可以控制对他们的访问,分两步实现,隐藏和开放接口,我们<strong>自己(非官方)</strong>命名这种隐藏和开放的方式为<strong>限制访问机制</strong></p>
<h3 id="4-什么是限制访问机制"><a href="#4-什么是限制访问机制" class="headerlink" title="4.什么是限制访问机制"></a>4.什么是限制访问机制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">凡是在类内部定义的属性或方法，以__（双下划线）开头的属性或方法名，都会被限制，外部不能 “直接访问” 该属性原型。</span><br><span class="line">PS： 看着像将该属性或方法隐藏起来了。</span><br><span class="line"><span class="comment"># python特有的:注意: 凡是在类内部定义 __开头的属性或方法，都会变形为 _类名 __属性/方法。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">为什么要使用这种机制:</span><br><span class="line">    就是为了不让外部轻易获得被隐藏的属性和方法</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">举个例子:</span><br><span class="line">    <span class="comment"># 隐藏属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line"> <span class="comment"># 以__开头的属性</span></span><br><span class="line">	__name = <span class="string">'sean'</span>  <span class="comment"># __name变成了_User__name</span></span><br><span class="line"></span><br><span class="line"> <span class="comment"># 以__开头的方法</span></span><br><span class="line"> 	<span class="function"><span class="keyword">def</span> <span class="title">__eat</span><span class="params">(self)</span>:</span>  <span class="comment"># __eat变成了_User__eat</span></span><br><span class="line">  		print(<span class="string">'from user'</span>)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span>  <span class="comment"># 在类的内部可以直接访问变形的方法或属性</span></span><br><span class="line">        self.__eat()</span><br><span class="line"></span><br><span class="line">obj = User()</span><br><span class="line"><span class="comment"># print(obj.__name) # 报错,提示没有此属性</span></span><br><span class="line">print(obj._User__name)  <span class="comment"># __name变成了_User__name</span></span><br><span class="line"><span class="comment"># obj.__eat()   # 报错,提示没有此方法</span></span><br><span class="line">obj._User__eat() <span class="comment"># __eat变成了_User__eat</span></span><br><span class="line">obj.func()  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意:</span></span><br><span class="line"><span class="number">1.</span>在类外部无法直接访问双下划线开头的属性,但是知道了类名和属性名就可以拼出名字:_类名__属性,然后就可以访问了,所以说这种限制没有严格意义上的限制外部访问,仅仅只是语法意义上的变形</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>在类内部是可以直接访问双下划线开头的属性的(注意不能跨类访问)</span><br><span class="line">因为在类定义阶段内部双下滑线开头的属性统一发生了形变</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fa</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'from A'</span>)  <span class="comment"># 在定义阶段已经变形了,不能访问到其他类里面</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.fa()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__fa</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'from B'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = B()</span><br><span class="line">b.test()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果:from A</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>变形操作只在类定义阶段发生一次,在类定义之后的赋值操作,不会变形</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义属性就是为了使用,所以隐藏不是目的,将数据隐藏只是为了限制类外部直接对数据进行操作,然后类内部应该提供相应的接口允许类外部间接的操作接口,接口之上可以附加额外的逻辑来对数据的操作进行严格的控制</span></span><br><span class="line"></span><br><span class="line">举例:隐藏函数的属性</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ATM</span>:</span></span><br><span class="line">    <span class="comment"># 取钱功能:</span></span><br><span class="line">    <span class="comment"># 1.插入磁卡</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__insert_card</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'开始插卡...'</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2.输入密码</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__input_pwd</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'输入密码...'</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3.输入取款金额</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__input_bal</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'输入取款金额...'</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 4.吐钱</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__output_money</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'开始吐钱...'</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 5.打印流水账单</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__print_flow</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'打印流水账单...'</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 取款顺序规范接口:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">withdraw</span><span class="params">(self)</span>:</span> <span class="comment"># 只需要一个对外取款接口,其他的都可以隐藏起来</span></span><br><span class="line">        <span class="comment"># 1.插入磁卡</span></span><br><span class="line">        self.__insert_card()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2.输入密码</span></span><br><span class="line">        self.__input_pwd()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3.输入取款金额</span></span><br><span class="line">        self.__input_bal()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 4.吐钱</span></span><br><span class="line">        self.__output_money()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 5.打印流水账单</span></span><br><span class="line">        self.__print_flow()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">amt_obj = ATM()</span><br><span class="line">amt_obj.withdraw()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 隐藏据属性:</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,age)</span>:</span> <span class="comment">#将名字和年纪都隐藏起来</span></span><br><span class="line"><span class="meta">... </span>        self.__name=name</span><br><span class="line"><span class="meta">... </span>        self.__age=age</span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">tell_info</span><span class="params">(self)</span>:</span> <span class="comment">#对外提供访问老师信息的接口</span></span><br><span class="line"><span class="meta">... </span>        print(<span class="string">'姓名:%s,年龄:%s'</span> %(self.__name,self.__age))</span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">set_info</span><span class="params">(self,name,age)</span>:</span> <span class="comment">#对外提供设置老师信息的接口，并附加类型检查的逻辑</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(name,str):</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">raise</span> TypeError(<span class="string">'姓名必须是字符串类型'</span>)</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(age,int):</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">raise</span> TypeError(<span class="string">'年龄必须是整型'</span>)</span><br><span class="line"><span class="meta">... </span>        self.__name=name</span><br><span class="line"><span class="meta">... </span>        self.__age=age</span><br><span class="line"><span class="meta">... </span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t=Teacher(<span class="string">'lili'</span>,<span class="number">18</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t.set_info(‘LiLi<span class="string">','</span><span class="number">19</span><span class="string">') # 年龄不为整型，抛出异常</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File "&lt;stdin&gt;", line 1, in &lt;module&gt;</span></span><br><span class="line"><span class="string">  File "&lt;stdin&gt;", line 11, in set_info</span></span><br><span class="line"><span class="string">TypeError: 年龄必须是整型</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; t.set_info('</span>LiLi<span class="string">',19) # 名字为字符串类型，年龄为整形，可以正常设置</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; t.tell_info() # 查看老师的信息</span></span><br><span class="line"><span class="string">姓名:LiLi,年龄:19</span></span><br></pre></td></tr></table></figure>

<p>总结隐藏属性与开放接口，本质就是为了明确地区分内外，类内部可以修改封装内的东西而不影响外部调用者的代码；而类外部只需拿到一个接口，只要接口名、参数不变，则无论设计者如何改变内部实现代码，使用者均无需改变代码。这就提供一个良好的合作基础，只要接口这个基础约定不变，则代码的修改不足为虑。</p>
<h3 id="5-property"><a href="#5-property" class="headerlink" title="5.property"></a>5.property</h3><ul>
<li><h4 id="什么是poperty"><a href="#什么是poperty" class="headerlink" title="什么是poperty"></a>什么是poperty</h4><p>是一个python内置的装饰器，可以装饰在”类内部的方法”上。可以将该方法调用方式由 —-&gt; 对象.方法() —&gt; 对象.方法,就是将调用函数方法伪装成调用数据属性,当调用此方法时会将该函数方法的结果返回出来</p>
</li>
<li><p>为什么要使用property</p>
<p>PS: 在某些场景下，调用的方法只是用来获取计算后的某个值。</p>
<p>PS: 必须通过 对象.方法() 方式调用，让该方法看起来像动词。</p>
</li>
<li><p>怎么使用property</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, weight, height)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.weight = weight</span><br><span class="line">        self.height = height</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property  </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bmi</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.weight / (self.height ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = People(<span class="string">'lili'</span>, <span class="number">75</span>, <span class="number">1.85</span>)</span><br><span class="line">print(obj.bmi)  <span class="comment"># 不需要通过方法()就可以得到结果,伪装成通过属性得到结果 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用property有效地保证了属性访问的一致性。另外property还提供设置和删除属性的功能</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val)</span>:</span></span><br><span class="line">        self.__NAME = val  <span class="comment"># 将属性隐藏起来</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__NAME</span><br><span class="line"></span><br><span class="line"><span class="meta">    @name.setter  # 如果需要修改值,必须再写一次方法,并且需要修改的方法名字要与被property装饰器后的方法一样,括号里面要添加一个value</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value, str):  <span class="comment"># 在设定值之前进行类型检查</span></span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">'%s must be str'</span> %value)</span><br><span class="line"></span><br><span class="line">        self.__NAME = value  <span class="comment"># 通过类型检查后,将值value存放到真实的位置self.__NAME</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @name.deleter  # 删除是在内部删除,在外部也要写上 del f.name</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> PermissionError(<span class="string">'Can not delete'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = Foo(<span class="string">'lili'</span>)</span><br><span class="line">f.name</span><br><span class="line"><span class="comment"># lili</span></span><br><span class="line">f = Foo(<span class="string">'lili'</span>)</span><br><span class="line">print(f.name)</span><br><span class="line"><span class="comment"># # lili</span></span><br><span class="line"><span class="comment"># # f.name = '123'  # 触发name.setter对应的的函数name(f,123),抛出异常TypeError</span></span><br><span class="line">f.name = <span class="string">'egon'</span>  <span class="comment"># 触发name.setter装饰器对应的函数name(f,’Egon')</span></span><br><span class="line">print(f.name)</span><br><span class="line"><span class="comment"># # del f.name  # 触发name.deleter对应的函数name(f),抛出异常PermissionError</span></span><br><span class="line"><span class="comment"># f.name = 'LiLi'  # 触发name.setter装饰器对应的函数name(f,’Egon')</span></span><br><span class="line"><span class="comment"># f.name = '123'  # 触发name.setter对应的的函数name(f,123),抛出异常TypeError</span></span><br><span class="line"><span class="comment"># del f.name  # 触发name.deleter对应的函数name(f),抛出异常PermissionError</span></span><br></pre></td></tr></table></figure>

<h1 id="面向对象三大特性之多态"><a href="#面向对象三大特性之多态" class="headerlink" title="面向对象三大特性之多态"></a>面向对象三大特性之多态</h1><h2 id="1-什么叫多态"><a href="#1-什么叫多态" class="headerlink" title="1.什么叫多态"></a>1.什么叫多态</h2><p>多态指的是同一种类型的事物，不同的形态。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span>    <span class="comment"># 将方法统一成父类的call</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'哼哧哼哧'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'汪汪汪'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'喵喵喵'</span>)</span><br><span class="line"></span><br><span class="line">实例化得到三个对象</span><br><span class="line">pig_obj = Pig()</span><br><span class="line">dog_obj = Dog()</span><br><span class="line">cat_obj = Cat()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">多态性指的是可以在不用考虑对象具体类型的情况下而直接使用对象，这就需要在设计时，把对象的使用方法统一成一种：例如cat、dog、pig都是动物,但凡是动物肯定有call方法，于是我们可以不用考虑它们三者的具体是什么类型的动物,而直接使用</span><br><span class="line"></span><br><span class="line">cat_obj.call()</span><br><span class="line">pig_obj.call()</span><br><span class="line">dog_obj.call()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">喵喵喵</span><br><span class="line">哼哧哼哧</span><br><span class="line">汪汪汪</span><br></pre></td></tr></table></figure>

<h2 id="2-多态的目的"><a href="#2-多态的目的" class="headerlink" title="2.多态的目的"></a>2.多态的目的</h2><p>“多态” 也称之为 “多态性”，目的是为了 在不知道对象具体类型的情况下，统一对象调用方法的规范</p>
<p>多态的表现 “形式之一” 就是继承:</p>
<ul>
<li>先抽象，再继承</li>
</ul>
<p>父类: 定制一套统一的规范。（比如: 方法名统一）</p>
<p>子类: 遵循父类的统一的规范。（比如: 子类遵循父类方法名的统一）</p>
<p>综上我们得知，多态性的本质在于不同的类中定义有相同的方法名，这样我们就可以不考虑类而统一用一种方式去使用对象，可以通过在父类引入抽象类的概念来硬性限制子类必须有某些方法名</p>
<p><strong>注意: 在python中不会强制限制 子类 必须要遵循 父类 的规范，所以出现了抽象类</strong></p>
<h2 id="3-什么是抽象类"><a href="#3-什么是抽象类" class="headerlink" title="3.什么是抽象类"></a>3.什么是抽象类</h2><p>在python内置的<strong>abc模块</strong>中，有一个抽象类(ABCMeta).</p>
<h2 id="4-抽象类的作用"><a href="#4-抽象类的作用" class="headerlink" title="4.抽象类的作用:"></a>4.抽象类的作用:</h2><p>让子类必须遵循父类的编写规范。</p>
<h2 id="5-如何实现抽象类"><a href="#5-如何实现抽象类" class="headerlink" title="5.如何实现抽象类"></a>5.如何实现抽象类</h2><ul>
<li><p>先导入abc模块，父类需要继承abc模块，在父类名添加括号，括号内写上（metaclass=abc.ABCMeta）</p>
</li>
<li><p>在父类的方法中，需要装饰上 abc.abstractmethod</p>
</li>
</ul>
<p>注意: 如果使用抽象类，子类必须按照父类的方法编写规范，缺一不可。（只要父类中有几个抽象方法，子类就必须要定义几个）’’’</p>
<p>注意: 在python中<strong>不推荐使用抽象类。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> abc </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span><span class="params">(metaclass=abc.ABCMeta)</span>:</span>    <span class="comment"># 注意 </span></span><br><span class="line">    <span class="comment"># @abc.abstractclassmethod   # 会有一条线在上面，表示虽然可以用，但是正在被弃用</span></span><br><span class="line"><span class="meta">    @abc.abstractmethod    # 父类中规范的方法装饰上abstractmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'哼哧哼哧'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tell</span><span class="params">(self)</span>:</span>   <span class="comment"># 改成其他与父类规定的方法不同就会被报错</span></span><br><span class="line">        print(<span class="string">'汪汪汪'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'喵喵喵'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pig_obj = Pig()</span><br><span class="line">dog_obj = Dog()</span><br><span class="line">cat_obj = Cat()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat_obj.call()</span><br><span class="line">pig_obj.call()</span><br><span class="line">dog_obj.tell()</span><br><span class="line"><span class="comment"># TypeError: Can't instantiate abstract class Dog with abstract methods call</span></span><br></pre></td></tr></table></figure>

<h2 id="6-什么是鸭子类型"><a href="#6-什么是鸭子类型" class="headerlink" title="6.什么是鸭子类型"></a>6.什么是鸭子类型</h2><p>我们完全可以不依赖于继承，只需要制造出外观和行为相同对象，同样可以实现不考虑对象类型而使用对象，这正是Python崇尚的“鸭子类型”（duck typing） 不同的对象，只要长得像鸭子，动作行为像鸭子，那它就是鸭子!</p>
<p>鸭子类型是多态的一种表现形式</p>
<h2 id="7-为什么要有鸭子类型？"><a href="#7-为什么要有鸭子类型？" class="headerlink" title="7.为什么要有鸭子类型？"></a>7.为什么要有鸭子类型？</h2><p>不同对象，先抽象出相同类型的方法，给他们定制一套统一的规范。</p>
<p>所有的类，在定义时都按照统一的规范进行编写。</p>
<p>多态的三种表现形式:</p>
<ul>
<li><p>继承父类</p>
<p>耦合度高，程序的可扩展性低</p>
</li>
<li><p>继承抽象类</p>
<p>耦合度极高，程序的可扩展性极低</p>
</li>
<li><p>鸭子类型:</p>
</li>
</ul>
<p>耦合度低，程序的可扩展性高</p>
<p>注意: 在python中，强烈推荐使用鸭子类型。’’’</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'哼哧哼哧'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'汪汪汪'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'喵喵喵'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pig_obj = Pig()</span><br><span class="line">dog_obj = Dog()</span><br><span class="line">cat_obj = Cat()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat_obj.call()</span><br><span class="line">pig_obj.call()</span><br><span class="line">dog_obj.call()</span><br></pre></td></tr></table></figure>

<h2 id="8-classmethod与staticmethod"><a href="#8-classmethod与staticmethod" class="headerlink" title="8.classmethod与staticmethod"></a>8.classmethod与staticmethod</h2><p>classmethod与staticmethod都是python解释器内置的装饰器。</p>
<p>classmethod: 是一个装饰器，给在类内部定义方法中装饰，将类内部的方法变为 “类的绑定方法”。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DB</span>:</span></span><br><span class="line">    __date = <span class="string">'tnank is very handsome!!!'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, user, pwd, role)</span>:</span></span><br><span class="line">        self.user = user</span><br><span class="line">        self.pwd = pwd</span><br><span class="line">        self.role = role</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类绑定方式</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check_db</span><span class="params">(cls, user, pwd, role)</span>:</span></span><br><span class="line">        <span class="comment"># 在类方法内部调用类产生一个实例 ---》 对象</span></span><br><span class="line">        obj = cls(user, pwd, role)</span><br><span class="line">        <span class="keyword">if</span> obj.user == <span class="string">'tank'</span> <span class="keyword">and</span> obj.pwd == <span class="string">'123'</span> <span class="keyword">and</span> obj.role == <span class="string">'admin'</span>:</span><br><span class="line">            print(<span class="string">'检验通过'</span>)</span><br><span class="line">            print(cls.__date)</span><br><span class="line">            <span class="keyword">return</span> cls.__date</span><br><span class="line"><span class="comment"># 对象绑定方式</span></span><br><span class="line"><span class="comment">#     def check_db(self, user, pwd, role):</span></span><br><span class="line"><span class="comment">#         # obj = self(user, pwd, role)</span></span><br><span class="line"><span class="comment">#         if self.user == 'tank' and self.pwd == '123' and self.role == 'admin':</span></span><br><span class="line"><span class="comment">#             print('检验通过')</span></span><br><span class="line"><span class="comment">#             print(self.__date)</span></span><br><span class="line"><span class="comment">#             return self.__date</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类的绑定方式</span></span><br><span class="line">DB.check_db(<span class="string">'tank'</span>, <span class="string">'123'</span>, <span class="string">'admin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对象绑定方式</span></span><br><span class="line"><span class="comment"># db_obj = DB('tank', '123', 'admin')</span></span><br><span class="line"><span class="comment"># db_obj.check_db('tank', '123', 'admin')</span></span><br><span class="line"><span class="comment"># # __class__"查看当前对象的类</span></span><br><span class="line"><span class="comment"># print(db_obj.__class__)</span></span><br></pre></td></tr></table></figure>

<p>staticmethod： 翻译: 静态方法 是一个装饰器，给在类内部定义方法中装饰，将类内部的方法变为 “非绑定方法”。</p>
<ul>
<li><p>对象的绑定方法:</p>
<p>由对象来调用，由谁来调用，会将谁(对象)当做第一个参数传入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line"></span><br><span class="line">    对象绑定方法</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self)</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 对象绑定方法</span></span><br><span class="line">obj = Foo()</span><br><span class="line">obj.func()  <span class="comment"># 会将对象当成第一个参数传给self</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>类的绑定方法:</p>
</li>
</ul>
<p>由类来调用，由谁来调用，会将谁(类)当做第一个参数传入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self)</span><br><span class="line">        </span><br><span class="line"><span class="comment">#类绑定方法</span></span><br><span class="line">Foo.func()</span><br><span class="line"> <span class="comment"># 会将类当成第一个参数传给self</span></span><br></pre></td></tr></table></figure>

<ul>
<li>非绑定方法:</li>
</ul>
<p>可以由对象或类来调用，谁来调用都是一个普通方法(普通函数)，方法需要传入几个参数，就得传入几个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line"><span class="comment"># 非绑定方法</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self)</span><br><span class="line">  <span class="comment"># 非绑定方法</span></span><br><span class="line">Foo.func(<span class="number">12</span>)<span class="comment"># 可以通过类调用，但是必须得传参，需要几个传几个</span></span><br><span class="line"></span><br><span class="line">obj = Foo()<span class="comment"># 也可以通过对象调用，也是必须得传参，需要几个传几个</span></span><br><span class="line">obj.func(<span class="number">12</span>)</span><br></pre></td></tr></table></figure>

<h2 id="9-isinstance与issubclass"><a href="#9-isinstance与issubclass" class="headerlink" title="9.isinstance与issubclass"></a>9.isinstance与issubclass</h2><p>isinstance和issubclass是python的内置模块</p>
<ul>
<li><p>isinstance: 判断一个对象是否是另一个类的实例。</p>
<p>如果是: True</p>
<p>如果不是: False</p>
</li>
<li><p>issubclass: 判断一个类是否是另一个类的子类。</p>
<p>如果是: True</p>
<p>如果不是: False</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#isinstance:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Boo</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">foo_obj = Foo()</span><br><span class="line">boo_obj = Boo()</span><br><span class="line"><span class="comment"># 前一个参数是对象名，后一个参数是类名</span></span><br><span class="line">print(isinstance(foo_obj, Foo))  <span class="comment"># True</span></span><br><span class="line">print(isinstance(boo_obj, Foo))  <span class="comment"># False</span></span><br><span class="line"><span class="comment"># issubclass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span><span class="params">(Father)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 前一个参数是字类名，后一个参数是父类名</span></span><br><span class="line">print(issubclass(Sub, Father))  <span class="comment"># True</span></span><br><span class="line">print(issubclass(Foo, Father))  <span class="comment"># False</span></span><br></pre></td></tr></table></figure>

<h2 id="10-反射"><a href="#10-反射" class="headerlink" title="10.反射"></a>10.反射</h2><p>反射: 反射指的是通过 “字符串” 对 对象的属性进行操作。</p>
<ul>
<li>hasattr: 通过 “字符串” 判断对象的属性或方法是否存在。</li>
<li>getattr: 通过 “字符串” 获取对象的属性或方法。</li>
<li>setattr: 通过 “字符串” 设置对象的属性或方法。</li>
<li>delattr: 通过 “字符串” 删除对象的属性或方法。</li>
</ul>
<p>注意: 反射的四个方法是python内置的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo_obj = Foo(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment">#hasattr</span></span><br><span class="line"><span class="comment">#通过字符串x 判断对象中是否有 x属性</span></span><br><span class="line">print(hasattr(foo_obj, <span class="string">'x'</span>))  <span class="comment"># True</span></span><br><span class="line">print(hasattr(foo_obj, <span class="string">'y'</span>))  <span class="comment"># True</span></span><br><span class="line">print(hasattr(foo_obj, <span class="string">'z'</span>))  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#getattr</span></span><br><span class="line">res = getattr(foo_obj, <span class="string">'x'</span>)</span><br><span class="line">print(res)  <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#若属性不存在，则返回默认值</span></span><br><span class="line">res = getattr(foo_obj, <span class="string">'z'</span>, <span class="string">'默认值'</span>) <span class="comment"># 默认值可以设置</span></span><br><span class="line">print(res)  <span class="comment"># 默认值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#setattr</span></span><br><span class="line"><span class="comment">#为foo_obj设置一个属性z，值为30</span></span><br><span class="line">setattr(foo_obj, <span class="string">'z'</span>, <span class="number">30</span>)</span><br><span class="line">print(hasattr(foo_obj, <span class="string">'z'</span>))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#delattr</span></span><br><span class="line">delattr(foo_obj, <span class="string">'x'</span>)</span><br><span class="line">print(hasattr(foo_obj, <span class="string">'x'</span>))  <span class="comment"># False</span></span><br><span class="line"><span class="comment"># 反射应用:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileControl</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># 让用户输入上传或下载功能的命令:</span></span><br><span class="line">            user_input = input(<span class="string">'请输入 上传(upload) 或 下载(download) 功能:'</span>).strip()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 通过用户输入的字符串判断方法是否存在，然后调用相应的方法</span></span><br><span class="line">            <span class="keyword">if</span> hasattr(self, user_input):</span><br><span class="line">                func = getattr(self, user_input)</span><br><span class="line">                func()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'输入有误!'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">upload</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'文件正在上传...'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'文件正在下载...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file_control_obj = FileControl()</span><br><span class="line">file_control_obj.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> uuid  <span class="comment"># 用于产生随机字符串的模块</span></span><br><span class="line"></span><br><span class="line">由时间戳以及某种算法组合而成，会产生一串世界上独一无二字符串。</span><br><span class="line">print(uuid.uuid4()) <span class="comment"># 一般选择uuid4这个方法</span></span><br><span class="line"></span><br><span class="line">输出结果：<span class="number">5</span>cb5a5e6<span class="number">-9</span>b6f<span class="number">-4</span>f86<span class="number">-9</span>f70<span class="number">-3443001</span>b9525</span><br><span class="line"></span><br><span class="line">原文链接：http://www.cnblogs.com/dkblog/archive/<span class="number">2011</span>/<span class="number">10</span>/<span class="number">10</span>/<span class="number">2205200.</span>html</span><br><span class="line"> Python官方Doc：《<span class="number">20.15</span>. uuid — UUID objects according to RFC <span class="number">4122</span>》</span><br><span class="line">    UUID的算法介绍：《A Universally Unique IDentifier (UUID) URN Namespace》</span><br><span class="line"></span><br><span class="line">概述：</span><br><span class="line"></span><br><span class="line">    UUID是<span class="number">128</span>位的全局唯一标识符，通常由<span class="number">32</span>字节的字符串表示。</span><br><span class="line">    它可以保证时间和空间的唯一性，也称为GUID，全称为：</span><br><span class="line">            UUID —— Universally Unique IDentifier      Python 中叫 UUID</span><br><span class="line">            GUID —— Globally Unique IDentifier          C<span class="comment">#  中叫 GUID</span></span><br><span class="line"></span><br><span class="line">    它通过MAC地址、时间戳、命名空间、随机数、伪随机数来保证生成ID的唯一性。</span><br><span class="line">    UUID主要有五个算法，也就是五种方法来实现：</span><br><span class="line"></span><br><span class="line">       <span class="number">1</span>、uuid1()——基于时间戳</span><br><span class="line"></span><br><span class="line">               由MAC地址、当前时间戳、随机数生成。可以保证全球范围内的唯一性，</span><br><span class="line">               但MAC的使用同时带来安全性问题，局域网中可以使用IP来代替MAC。</span><br><span class="line"></span><br><span class="line">       <span class="number">2</span>、uuid2()——基于分布式计算环境DCE（Python中没有这个函数）</span><br><span class="line"></span><br><span class="line">                算法与uuid1相同，不同的是把时间戳的前<span class="number">4</span>位置换为POSIX的UID。</span><br><span class="line">                实际中很少用到该方法。</span><br><span class="line"></span><br><span class="line">      <span class="number">3</span>、uuid3()——基于名字的MD5散列值</span><br><span class="line"></span><br><span class="line">                通过计算名字和命名空间的MD5散列值得到，保证了同一命名空间中不同名字的唯一性，</span><br><span class="line">                和不同命名空间的唯一性，但同一命名空间的同一名字生成相同的uuid。    </span><br><span class="line"></span><br><span class="line">       <span class="number">4</span>、uuid4()——基于随机数</span><br><span class="line"></span><br><span class="line">                由伪随机数得到，有一定的重复概率，该概率可以计算出来。</span><br><span class="line"></span><br><span class="line">       <span class="number">5</span>、uuid5()——基于名字的SHA<span class="number">-1</span>散列值</span><br><span class="line"></span><br><span class="line">                算法与uuid3相同，不同的是使用 Secure Hash Algorithm <span class="number">1</span> 算法</span><br><span class="line"></span><br><span class="line">使用方面：</span><br><span class="line"></span><br><span class="line">    首先，Python中没有基于DCE的，所以uuid2可以忽略；</span><br><span class="line">    其次，uuid4存在概率性重复，由无映射性，最好不用；</span><br><span class="line">    再次，若在Global的分布式计算环境下，最好用uuid1；</span><br><span class="line">    最后，若有名字的唯一性要求，最好用uuid3或uuid5。</span><br><span class="line"></span><br><span class="line">编码方法：</span><br><span class="line"></span><br><span class="line">    <span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> uuid</span><br><span class="line"></span><br><span class="line">    name = <span class="string">"test_name"</span></span><br><span class="line">    namespace = <span class="string">"test_namespace"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> uuid.uuid1()  <span class="comment"># 带参的方法参见Python Doc</span></span><br><span class="line">    <span class="keyword">print</span> uuid.uuid3(namespace, name)</span><br><span class="line">    <span class="keyword">print</span> uuid.uuid4()</span><br><span class="line">    <span class="keyword">print</span> uuid.uuid5(namespace, name)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/28/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B9%8B%E7%BB%A7%E6%89%BF%E5%B0%81%E8%A3%85%E5%A4%9A%E6%80%81/" data-id="ckd3djzbw000q0out22saccbb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/02/python%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          python单例模式
        
      </div>
    </a>
  
  
    <a href="/2018/10/25/python%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">python面向对象</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%92%8C%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="tag">网络和并发编程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/MySQL/" style="font-size: 16.67px;">MySQL</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%92%8C%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 13.33px;">网络和并发编程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/12/05/Django%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85/">Django框架简介和安装</a>
          </li>
        
          <li>
            <a href="/2018/11/29/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">并发编程基础</a>
          </li>
        
          <li>
            <a href="/2018/11/25/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">网络编程基础</a>
          </li>
        
          <li>
            <a href="/2018/11/24/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8C%E9%94%81/">MySQL数据库的隔离级别和锁</a>
          </li>
        
          <li>
            <a href="/2018/11/16/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">MySQL数据库的基本操作</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Mr Jiang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>